# **Arcweb**

Query your scores in arcaea through web app.

## Routes

| route                           | arg                  | interface                       |
| ------------------------------- | -------------------- | ------------------------------- |
| /image/recent                   | -                    | recently played song            |
| /image/best                     | song and difficulty* | best score                      |
| /pages/songlist                 | -                    | song list                       |
| /pages/song/recent              | -                    | recently played song(html page) |
| /pages/song/best                | song and difficulty* | best score(html page)           |
| /pages/best30 orÂ /pages/best40  | -                    | best30(best40) page             |

```
*song is for songid in arcaea , can be found in songlist
*difficulty is for short name or full name of difficulties
	 "future" "ftr" "2" are acceptable

**use keyword s="xxx" can specify a user by a secret id (if `auth` env is not None), secret id can be generated by /utils/auth.py [see Generate a secret id]
```

## Generate a secret id

First of all , you should set an `auth` environmental variable , which should be the same as the one to be deployed to vercel

Then head to `utils` folder and run

```bash
$ python3 auth.py # or python auth.py
```

input the usercode and it will return a secret id like this:

```
input your id > 000000001
Secret Id : 562f86d6fe0ce87b81ebc281ff826794
Secret Id decrypted : 000000001
```

## Deploy to vercel

Fork this repository and import it from [vercel](https://vercel.com/)

![img](guide/ConfigureProject.png)

Then configure your project:

Set `FRAMEWORK PRESET` to `Other`

Add `Environment Variables`

```
host = "xxxxxx" # for ArcaeaUnlimitedApi
token = "xxxxxx" # for ArcaeaUnlimitedApi
usercode = "xxxxxx" # default query user
auth = "xxxxxx" # [optional] a DES key for auth
timezone = "xxxxxx" # [optional] Asia/Shanghai for default
```

Click `Deploy `and wait for building

## Developing Environment

```
Python 3.11.0 (main, Oct 24 2022, 18:26:48) [MSC v.1933 64 bit (AMD64)] on win32
Windows 10
```
